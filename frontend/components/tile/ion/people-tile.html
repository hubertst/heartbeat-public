<link rel="import" href="../tile.html">
<link rel="import" href="../../socket-connection.html">

<dom-module id="hb-ion-people-tile">
  <style>
    :host hb-tile {
      background: #aaa7fb;
    }

    :host(:nth-child(even)) hb-tile {
      background: #31a3ff;
    }
  </style>

  <template>
    <hb-tile id="tile" class="ion">
      <value>{{ usersCount }}</value>
      <header>people</header>
      <description>@work</description>
      <endpoint>ION</endpoint>
    </hb-tile>

    <socket-connection endpoint="ion"
                       on-data="onData">
    </socket-connection>

  </template>

  <script>
    Polymer({
      is: 'hb-ion-people-tile',
      usersCount: 0,
      onData: function (ev, data) {
        this.usersCount = data.users;
        this.$.tile.ping();
      }
    });
  </script>
</dom-module>
